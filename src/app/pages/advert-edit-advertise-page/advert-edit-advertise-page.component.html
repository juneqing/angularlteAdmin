<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            广告任务发布
            <small>editAdvertise</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> 新建广告</a></li>
            <li class="actived">
                <a href="#">广告任务发布</a>
            </li>
        </ol>
    </section>
    <section class="content togglable-tabs">
        <!--选项-->
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" [class.active]="step==0" (click)="step=0">
                <a>基本信息</a>
            </li>
            <li role="presentation" [class.active]="step==1" (click)="step=1">
                <a>规格选择</a>
            </li>
            <li role="presentation" [class.active]="step==2" (click)="step=2">
                <a>价格选择</a>
            </li>
            <li role="presentation" [class.active]="step==3" (click)="step=3">
                <a>确认提交</a>
            </li>
        </ul>
        <div class="tab-content col-md-12 col-xs-12">
            <!--基本信息  -->
            <div role="tabpanel" class="tab-pane" [class.active]="step==0" *ngIf="step==0">
                <div class="form-horizontal">
                    <div class="row">
                        <div class="col-xs-12">
                            <!--广告类型-->
                            <div class="form-group">
                                <label class="col-xs-2 control-label">
                                    <strong>广告类型</strong>
                                </label>
                                <div class="col-xs-4">
                                    <div class="radio pull-left">
                                        <label>
                                                <input type="radio"  (click)="type='url'" [checked]="type=='url'?'checked':''">
                                                链接推广
                                        </label>
                                    </div>
                                    <!-- <div class="radio pull-left">
                                        <label class="ml-20">
                                                <a routerLink="/advert/advert-template" class="advert-template">
                                                    <input type="radio"  value="2" (click)="type='template'" [checked]="type=='template'?'checked':''">
                                                    模版推广
                                                </a>
                                        </label>
                                    </div> -->
                                </div>
                            </div>
                            <!--投放平台-->
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>投放平台</strong></label>
                                <div class="col-xs-4">
                                    <div class="radio pull-left">
                                        <label>
                                                <input type="radio"  value="1" checked="" disabled="disabled">
                                                社交分享广告
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <!--投放时间-->
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>投放时间</strong></label>
                                <div class="col-xs-4">
                                    <div class="input-group date">
                                        <input type="date" class="form-control" [(ngModel)]="newTask.createDt">
                                    </div>
                                </div>
                            </div>
                            <!--广告分类-->
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>广告分类</strong></label>
                                <div class="col-xs-4">
                                    <div class="row">
                                        <div class="col-xs-6">
                                            <span class="btn btn-link {{taskTag==selectedTaskTag?'btn-info':''}}" *ngFor="let taskTag of taskTags;let i = index" (click)="selectTaskTag(taskTag)">{{taskTag.name}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--投放规则-->
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>投放规则</strong></label>
                                <div class="col-xs-10">
                                    <ol class="list-unstyled fc-gray2">
                                        <li>1.广告投放时间必须晚于当前时间1小时</li>
                                        <li>2.广告正式投放时间可能会在设定时间基础上延后10~15分钟</li>
                                        <li>3.23：00~6:00 不能进行广告投放</li>
                                        <li>4.广告结束时间以广告商费用低于20%时下线</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--规格选择  -->
            <div role="tabpanel" class="tab-pane" [class.active]="step==1" *ngIf="step==1">
                <div class="form-horizontal">
                    <div class="row">
                        <div class="col-xs-7">
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>分享标题</strong></label>
                                <div class="col-xs-6">
                                    <input type="text" class="form-control" placeholder="请输入1~50字的分享标题" [(ngModel)]="newTask.title">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>分享图片</strong></label>
                                <div class="col-xs-4">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <a class="upload-txt-box form-control">
                                                <span class="upload-tips">请点击选择图片...</span>
                                                <input type="file" name="file" class="upload-txt" placeholder="请上传25k以下，分辨率300*300以下的图片" (change)="uploadTaskImageUrl(taskImageUrlInput.files[0])" #taskImageUrlInput>
                                                <input type="url" [(ngModel)]="newTask.imageUrl" class="hide">
                                                <span class="upload-icon">
                                                    <i class="fa fa-picture-o"></i>
                                               </span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>广告图片</strong></label>
                                <div class="col-xs-4">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <a class="upload-txt-box form-control">
                                                <span class="upload-tips">请点击选择图片...</span>
                                                <input type="file" name="file" class="upload-txt" placeholder="最佳分辨率大小360*200" (change)="uploadTaskBannerUrl(taskImageUrlInput.files[0])" #taskBannerUrlInput>
                                                <span class="upload-icon"><i class="fa fa-picture-o"></i></span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>外部链接</strong></label>
                                <div class="col-xs-6">
                                    <input type="text" class="form-control" placeholder="请输入以http://为开头的标准地址" [(ngModel)]="newTask.websiteUrl">
                                </div>
                            </div>
                        </div>
                        <!--预览图  -->
                        <div class="preview-box col-xs-5" id="chat_show_pic_contrl" style="margin-left: -60px;">
                            <div class="row">
                                <div class="col-md-6">
                                    <strong class="topic">分享图片预览图</strong>
                                    <div class="imgView">
                                        <img [src]="newTask.imageUrl" alt="分享图片预览图" *ngIf="newTask.imageUrl" class="img-responsive" width="100%" height="100%" style="overflow: hidden;">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <strong class="topic">广告图片预览图</strong>
                                    <div class="imgView">
                                        <img [src]="newTask.bannerUrl" alt="广告图片预览图" *ngIf="newTask.bannerUrl" class="img-responsive" width="100%" height="100%" style="overflow: hidden;">
                                    </div>
                                </div>

                            </div>
                            <p class="fc-red col-md-12">预览效果仅供参考，实际效果以APP效果为准。</p>
                        </div>
                    </div>
                </div>
            </div>
            <!--价格选择  -->
            <div role="tabpanel" class="tab-pane" [class.active]="step==2" *ngIf="step==2">
                <div class="form-horizontal">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="form-group">
                                <label class="col-xs-2 control-label"><strong>广告发布总价</strong></label>
                                <div class="col-xs-4">
                                    <input type="text" class="form-control" placeholder="广告发布总价" [(ngModel)]="newTask.fee">
                                </div>
                            </div>
                            <div class="form-group" id="chat_show_ad_times">
                                <label class="col-xs-2 control-label"><strong>广告点击单价</strong></label>
                                <div class="col-xs-4">
                                    <input type="text" class="form-control" placeholder="广告点击单价" [(ngModel)]="newTask.shareMoney">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--确认提交  -->
            <div role="tabpanel" class="tab-pane" [class.active]="step==3" *ngIf="step==3">
                <div class="row">
                    <div class="col-xs-6">
                        <h3 class="mod-title mod-title-small">广告预览信息</h3>
                        <div class="row">
                            <div class="col-xs-3 text-right">广告名称：</div>
                            <div class="col-xs-9 fc-blue">{{newTask.title}}</div>
                        </div>
                        <div class="row mt-20">
                            <div class="col-xs-3 text-right">投放时间：</div>
                            <div class="col-xs-9 fc-blue">{{newTask.createDt}}</div>
                        </div>
                        <div class="row mt-20">
                            <div class="col-xs-3 text-right">广告分类：</div>
                            <div class="col-xs-9 fc-blue">{{selectedTaskTag.name}}</div>
                        </div>
                        <div class="row mt-20">
                            <div class="col-xs-3 text-right">广告链接：</div>
                            <div class="col-xs-9 fc-blue" style="overflow: hidden;">{{newTask.websiteUrl}}</div>
                        </div>
                        <div class="row mt-20">
                            <div class="col-xs-3 text-right">广告总价：</div>
                            <div class="col-xs-9 fc-blue">{{newTask.fee}}</div>
                        </div>
                        <div class="row mt-20">
                            <div class="col-xs-3 text-right">点击单价：</div>
                            <div class="col-xs-9 fc-blue">{{newTask.shareMoney}}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-btn-bar">
            <button type="button" class="btn btn-info btn-info-lg" [disabled]="step==0?'disabled':''" (click)="step=step-1">上一步</button>
            <button type="button" class="btn btn-info btn-info-lg" *ngIf="step!=3" (click)="step=step+1" [disabled]="step==3?'disabled':''">下一步</button>
            <button type="button" class="btn btn-info btn-info-lg" *ngIf="step==3" (click)="saveNewItem()">提交</button>
        </div>
    </section>
</div>